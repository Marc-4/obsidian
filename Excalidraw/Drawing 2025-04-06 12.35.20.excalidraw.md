---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
QR ^gI9CWBso

Contains Key ^vM1BTVv1

Moonwalk
Service ^J9yJIkm8

- Time-in ^1nqy4qW4

- Get-QR  ^RZ4A3aov

- Time-out ^0FVyO41U

1. listen for db changes
2. if change, check if current qr has been used
3. if used, generate new qr & store in db
4.send QR ^fZ1NfhWQ

websocket ^AWfEaZNK

1. scan key from qr
2. send key alongside geodata
3. check validity of key & geodata
4. if wrong, send err
5. mark key as used & add entry  to attendance table ^P8B0uWFJ

%%
## Drawing
```compressed-json
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
```
%%